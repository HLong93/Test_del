app:
  description: ''
  icon: ğŸ“‚
  icon_background: '#FEF7C3'
  mode: advanced-chat
  name: åˆåŒè§£æ
  use_icon_as_answer_icon: false
kind: app
version: 0.1.5
workflow:
  conversation_variables:
  - description: 'Text to be translated. '
    id: e520bb9f-da6f-49a3-9da6-a3c74f1d68d6
    name: text
    selector:
    - conversation
    - text
    value: ''
    value_type: string
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInLoop: false
        sourceType: start
        targetType: document-extractor
      id: 1727234055352-source-1727235420145-target
      selected: false
      source: '1727234055352'
      sourceHandle: source
      target: '1727235420145'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: document-extractor
        targetType: assigner
      id: 1727235420145-source-1742785731675-target
      selected: false
      source: '1727235420145'
      sourceHandle: source
      target: '1742785731675'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: assigner
        targetType: if-else
      id: 1742785731675-source-1743572188745-target
      selected: false
      source: '1742785731675'
      sourceHandle: source
      target: '1743572188745'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 17435722334800-source-1743127987774-target
      selected: false
      source: '17435722334800'
      sourceHandle: source
      target: '1743127987774'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: variable-aggregator
      id: 1743127987774-source-1743574627881-target
      source: '1743127987774'
      sourceHandle: source
      target: '1743574627881'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: variable-aggregator
        targetType: code
      id: 1743574627881-source-1743142066025-target
      source: '1743574627881'
      sourceHandle: source
      target: '1743142066025'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: code
      id: 1743142066025-source-1743660332041-target
      source: '1743142066025'
      sourceHandle: source
      target: '1743660332041'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: answer
      id: 1743660332041-source-1727244764225-target
      source: '1743660332041'
      sourceHandle: source
      target: '1727244764225'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: llm
      id: 1742975365645-source-1743663970298-target
      source: '1742975365645'
      sourceHandle: source
      target: '1743663970298'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: variable-aggregator
      id: 1743663970298-source-1743574627881-target
      source: '1743663970298'
      sourceHandle: source
      target: '1743574627881'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1743572188745-true-1742975365645-target
      source: '1743572188745'
      sourceHandle: 'true'
      target: '1742975365645'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1743572188745-false-17435722334800-target
      source: '1743572188745'
      sourceHandle: 'false'
      target: '17435722334800'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - allowed_file_extensions: []
          allowed_file_types:
          - document
          allowed_file_upload_methods:
          - local_file
          label: ä¸Šä¼ æ–‡ä»¶
          max_length: 5
          options: []
          required: true
          type: file
          variable: file
        - label: æ¨¡å‹ç±»å‹
          max_length: 2
          options: []
          required: false
          type: text-input
          variable: llm_type
      height: 116
      id: '1727234055352'
      position:
        x: 163.86260281761838
        y: 286.5
      positionAbsolute:
        x: 163.86260281761838
        y: 286.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_array_file: false
        selected: false
        title: æ–‡æ¡£æå–
        type: document-extractor
        variable_selector:
        - '1727234055352'
        - file
      height: 92
      id: '1727235420145'
      position:
        x: 469.6310687208005
        y: 286.5
      positionAbsolute:
        x: 469.6310687208005
        y: 286.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1743660332041.result#}}'
        desc: ''
        selected: false
        title: å›ç­”
        type: answer
        variables: []
      height: 103
      id: '1727244764225'
      position:
        x: 3168.7992790591156
        y: 317.7268146047289
      positionAbsolute:
        x: 3168.7992790591156
        y: 317.7268146047289
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1727235420145'
          - text
          variable_selector:
          - conversation
          - text
          write_mode: over-write
        selected: false
        title: å˜é‡èµ‹å€¼
        type: assigner
        version: '2'
      height: 88
      id: '1742785731675'
      position:
        x: 771.1608349131534
        y: 286.5
      positionAbsolute:
        x: 771.1608349131534
        y: 286.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '1727235420145'
          - text
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: qwen-max
          provider: tongyi
        prompt_template:
        - id: a6a675a4-6738-4c57-8aa6-c7169ec90ef6
          role: system
          text: "## è§’è‰²\nä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„åˆåŒæ–‡æœ¬è§£æåŠ©æ‰‹ï¼Œä½ çš„ä»»åŠ¡æ˜¯ä»ç»™å®šçš„æå–æ–‡æ¡£ä¸­æå–å…³é”®ä¿¡æ¯ï¼Œå¹¶ä¸¥æ ¼æŒ‰ç…§æŒ‡å®šçš„ Schema æ ¼å¼è¾“å‡ºå­—ç¬¦ä¸²ï¼Œç¡®ä¿å­—æ®µæ•°æ®ä¸åŸå§‹æ–‡æ¡£å†…å®¹å®Œå…¨åŒ¹é…ã€‚\
            \  \n\n## ä»»åŠ¡è¦æ±‚\n1. ä¸¥æ ¼åŒ¹é…å­—æ®µï¼šç¡®ä¿æå–çš„å†…å®¹ä¸å­—æ®µæ¥æºä¸¥æ ¼å¯¹åº”ï¼Œä¸å¾—è‡ªè¡Œæ¨æµ‹æˆ–è½¬æ¢å­—æ®µå€¼ã€‚\n2. è¡¨æ ¼æ•°æ®åŒ¹é…ï¼šå¯¹äºè¡¨æ ¼æ•°æ®ï¼Œéœ€é€è¡Œè§£æï¼Œå¿…é¡»å¹¶ä¿è¯å­—æ®µæ•°æ®æŒ‰è¡ŒåŒ¹é…ï¼Œé¿å…æ•°æ®é”™ä½ï¼Œé¿å…è™šå‡æ•°æ®ã€‚\n\
            3. è¾“å‡ºæ ¼å¼ï¼šè¯·ä¸¥æ ¼è¿”å›ä¸€ä¸ªåˆæ³•çš„ JSON å¯¹è±¡ï¼Œä¸è¦åŒ…å«ä»»ä½•é¢å¤–çš„ Markdown ä»£ç å—ï¼ˆå¦‚ ```jsonï¼‰æˆ–è§£é‡Šæ€§æ–‡æœ¬ï¼›ä¸”å¿…é¡»ç¬¦åˆ\
            \ Schema ç»“æ„ï¼Œä¸å¾—åŒ…å«å¤šä½™å†…å®¹ã€‚\n4. å­—æ®µç¼ºå¤±å¤„ç†ï¼šå¦‚æœå­—æ®µåœ¨æå–æ–‡æ¡£ä¸­æ‰¾ä¸åˆ°ï¼Œåˆ™å¡«å…¥ nullï¼Œä¸å¾—å¡«å…¥å…¶ä»–é»˜è®¤å€¼ã€‚\n5.\
            \ æ—¶é—´æ ¼å¼è½¬æ¢ï¼šæ‰€æœ‰æ—¶é—´å­—æ®µéœ€è½¬æ¢ä¸ºæ ‡å‡†æ—¥æœŸæ ¼å¼ï¼ˆYYYY-MM-DDï¼‰ã€‚\n6. æ•°å­—æ ¼å¼ï¼šä¿æŒåŸå§‹æ ¼å¼è¾“å‡ºï¼Œä¸å¾—è¿›è¡Œå››èˆäº”å…¥æˆ–å•ä½è½¬æ¢ï¼Œéæ•°å­—æ ¼å¼åˆ™å¡«å…¥\
            \ nullã€‚\n7. å‹¾é€‰æ¡†æ ¼å¼ï¼šå¦‚æœå‹¾é€‰ï¼Œå¡«å…¥å¯¹åº”å‹¾é€‰æ¡†åé¢çš„æ–‡å­—ï¼Œå¦‚æœæ²¡æœ‰åˆ™å¡«å…¥ nullã€‚\n\n## æå–æ–‡æ¡£\n{{#context#}}\n\
            \n## Schema\n{\n  \"name\": \"string\",\n  \"businessManagementCompany\"\
            : \"string\",\n  \"businessManagementCompanyCode\": \"string\",\n  \"\
            businessManagementCompanyContact\": \"string\",\n  \"businessManagementCompanyPhone\"\
            : \"string\",\n  \"contractCustomers\": \"string\",\n  \"contractCustomersCode\"\
            : \"string\",\n  \"contact\": \"string\",\n  \"contactPhone\": \"string\"\
            ,\n  \"startDate\": \"string\",\n  \"endDate\": \"string\",  \n  \"brandCode\"\
            : \"string\", \n  \"chargeMethodName\": \"string\",\n  \"decorationDays\"\
            : \"string\",\n  \"businessTermsInfoDtoList\": [\n    {\n      \"startTimePeriod\"\
            : \"string\",\n      \"endTimePeriod\": \"string\",\n      \"monthUnitPrice\"\
            : \"string\",\n      \"monthUnitPriceNoTax\": \"string\",\n      \"monthTotalPrice\"\
            : \"string\",\n      \"monthTotalPriceNoTax\": \"string\",\n      \"drawRatio\"\
            : \"string\"\n    }\n  ]\n}\n\n\n## å­—æ®µæ¥æº\n| JSON å­—æ®µå                |\
            \ æ•°æ®æ¥æºæè¿° |\n|----------------------------|------------|\n| `name`    \
            \    | **åˆåŒåç§°**ï¼Œå–è‡ªæ–‡æ¡£çš„åˆåŒåç§°|\n| `businessManagementCompany`        | **ç”²æ–¹ï¼ˆå‡ºç§Ÿäººï¼‰**|\n\
            | `businessManagementCompanyCode`        | **ç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç **ï¼Œå–è‡ªâ€œç”²æ–¹ï¼ˆå‡ºç§Ÿäººï¼‰â€åçš„çš„å†…å®¹\
            \ |\n| `businessManagementCompanyContact`        | **ç”²æ–¹è”ç³»äºº**|\n| `businessManagementCompanyPhone`\
            \        | **ç”²æ–¹è”ç³»ç”µè¯**|\n| `contractCustomers` | **ä¹™æ–¹ï¼ˆæ‰¿ç§Ÿäººï¼‰**|\n| `contractCustomersCode`\
            \         | **ç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç /èº«ä»½è¯å·**ï¼šå–è‡ªâ€œä¹™æ–¹ï¼ˆæ‰¿ç§Ÿäººï¼‰â€åçš„çš„å†…å®¹ |\n| `contact` | **ä¹™æ–¹è”ç³»äºº**|\n\
            | `contactPhone` | **ä¹™æ–¹è”ç³»ç”µè¯**|\n| `startDate`           | å–è‡ª\"ç§ŸèµæœŸé™\"ç›®å½•ä¸‹çš„å¼€å§‹æ—¶é—´ï¼Œæ ¼å¼ï¼šYYYY-MM-DD\
            \ |\n| `endDate`          | å–è‡ª\"ç§ŸèµæœŸé™\"ç›®å½•ä¸‹çš„ç»“æŸæ—¶é—´ï¼Œæ ¼å¼ï¼šYYYY-MM-DD |\n| `brandCode`\
            \ | **å“ç‰Œ**ï¼Œå–è‡ªâ€œç§Ÿèµç”¨é€”â€ç›®å½•ä¸‹çš„ç»è¥å“ç‰Œ |\n| `decorationDays` | **è£…ä¿®æœŸå¤©æ•°**ï¼Œå–è‡ªâ€œè£…ä¿®æœŸâ€ç›®å½•ä¸‹çš„å¼€ä¸šè£…ä¿®æœŸå¤©æ•°\
            \ |\n| `chargeMethodName` | **å‹¾é€‰æ¡†**ï¼Œå–è‡ªâ€œç§ŸèµæœŸé™å†…ï¼Œè¯¥å•†é“ºç§Ÿé‡‘è®¡ç®—æ–¹å¼ä¸ºâ€åçš„å‹¾é€‰æ¡†å¯¹åº”å‹¾é€‰çš„å†…å®¹ |\n\
            | `businessTermsInfoDtoList` | **å…·ä½“ç§Ÿé‡‘æ ‡å‡†**ï¼Œè¡¨æ ¼å†…å®¹æŒ‰è¡Œæå– |\n| `startTimePeriod`\
            \         | **è¡¨æ ¼åˆ—**ï¼š\"ç§ŸèµæœŸé™çš„å¼€å§‹æ—¶é—´\"ï¼Œæ ¼å¼ï¼šYYYY-MM-DD |\n| `endTimePeriod` \
            \          | **è¡¨æ ¼åˆ—**ï¼š\"ç§ŸèµæœŸé™çš„ç»“æŸæ—¶é—´\"ï¼Œæ ¼å¼ï¼šYYYY-MM-DD |\n| `monthUnitPrice`\
            \          | **è¡¨æ ¼åˆ—**ï¼š\"åŸºæœ¬ç§Ÿé‡‘å•ä»·ï¼ˆå…ƒ/æœˆ/ã¡ï¼‰å«ç¨\"ï¼Œæ ¼å¼ï¼šæ•°å­— |\n| `monthUnitPriceNoTax`\
            \     | **è¡¨æ ¼åˆ—**ï¼š\"åŸºæœ¬ç§Ÿé‡‘å•ä»·ï¼ˆå…ƒ/æœˆ/ã¡ï¼‰ä¸å«ç¨\"ï¼Œæ ¼å¼ï¼šæ•°å­— |\n| `monthTotalPrice`    \
            \     | **è¡¨æ ¼åˆ—**ï¼š\"åŸºæœ¬ç§Ÿé‡‘é‡‘é¢\"ï¼Œæ ¼å¼ï¼šæ•°å­— |\n| `monthTotalPriceNoTax`    | **è¡¨æ ¼åˆ—**ï¼š\"\
            åŸºæœ¬ç§Ÿé‡‘é‡‘é¢åŒ…å«çš„å¢å€¼ç¨ç¨é¢\"ï¼Œæ ¼å¼ï¼šæ•°å­— |\n| `drawRatio`               | **è¡¨æ ¼åˆ—**ï¼š\"æŠ½æˆæ¯”ä¾‹\"\
            ï¼Œæ ¼å¼ï¼šæ•°å­— |"
        - id: 9c379fa1-4da3-42b7-9ff4-ad93be47a582
          role: user
          text: '{{#1727235420145.text#}}'
        selected: false
        title: TYæ–‡æ¡£è½¬æ¢
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1742975365645'
      position:
        x: 1403.569014946623
        y: 317.7268146047289
      positionAbsolute:
        x: 1403.569014946623
        y: 317.7268146047289
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import re\n\ndef main(text: str) -> dict:\n    endthinkflag_match =\
          \ re.search(r\".*(\\[ENDTHINKFLAG\\])\", text)\n    endthink_match = re.search(r\"\
          .*(</think>)\", text)\n\n    if endthinkflag_match:\n        result = text[endthinkflag_match.end(1):]\n\
          \    elif endthink_match:\n        result = text[endthink_match.end(1):]\n\
          \    else:\n        result = text\n    return {'result': result}\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: DSå»é™¤æ€è€ƒ
        type: code
        variables:
        - value_selector:
          - '17435722334800'
          - text
          variable: text
      height: 54
      id: '1743127987774'
      position:
        x: 1717.559353218749
        y: 466.34766244937947
      positionAbsolute:
        x: 1717.559353218749
        y: 466.34766244937947
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\nimport re\n\ndef main(text: str) -> dict:\n    try:\n\
          \        # ç¬¬ä¸€æ­¥ï¼šå»é™¤ Markdown ä»£ç å—æ ‡è®°\n        cleaned = re.sub(r'^```json\\\
          n|```$', '', text.strip(), flags=re.IGNORECASE)\n\n        # ç¬¬äºŒæ­¥ï¼šä¿®å¤ JSON\
          \ é‡Œçš„åŒé‡è½¬ä¹‰å­—ç¬¦\n        cleaned = cleaned.replace('\\\\\"', '\"').replace('\\\
          \\n', '')\n\n        # ç¬¬ä¸‰æ­¥ï¼šå°è¯•æå– JSON æ•°æ®\n        json_match = re.search(r'\\\
          {.*\\}', cleaned, re.DOTALL)\n        if not json_match:\n            return\
          \ {'result': text}\n\n        json_str = json_match.group()\n\n        #\
          \ ç¬¬å››æ­¥ï¼šè§£æ JSON\n        result = json.loads(json_str)\n\n        # ç¬¬äº”æ­¥ï¼šå»é™¤å¤šä½™ç©ºæ ¼å¹¶è¿”å›\n\
          \        compact_json = json.dumps(result, ensure_ascii=False, separators=(',',\
          \ ':'))\n\n        return {'result': compact_json}\n\n    except Exception\
          \ as e:\n        return {'result': text}\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: å»é™¤è½¬ä¹‰
        type: code
        variables:
        - value_selector:
          - '1743574627881'
          - output
          variable: text
      height: 54
      id: '1743142066025'
      position:
        x: 2509.0488167806484
        y: 317.7268146047289
      positionAbsolute:
        x: 2509.0488167806484
        y: 317.7268146047289
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: 7f3f4571-80c6-4914-9034-4f546371a068
            value: TY
            varType: string
            variable_selector:
            - '1727234055352'
            - llm_type
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯
        type: if-else
      height: 126
      id: '1743572188745'
      position:
        x: 1079.1901013137635
        y: 286.5
      positionAbsolute:
        x: 1079.1901013137635
        y: 286.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '1727235420145'
          - text
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: deepseek-reasoner
          provider: deepseek
        prompt_template:
        - id: a6a675a4-6738-4c57-8aa6-c7169ec90ef6
          role: system
          text: "## è§’è‰²\nä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„åˆåŒæ–‡æœ¬è§£æåŠ©æ‰‹ï¼Œä½ çš„ä»»åŠ¡æ˜¯ä»ç»™å®šçš„æå–æ–‡æ¡£ä¸­æå–å…³é”®ä¿¡æ¯ï¼Œå¹¶ä¸¥æ ¼æŒ‰ç…§æŒ‡å®šçš„ Schema æ ¼å¼è¾“å‡ºå­—ç¬¦ä¸²ï¼Œç¡®ä¿å­—æ®µæ•°æ®ä¸åŸå§‹æ–‡æ¡£å†…å®¹å®Œå…¨åŒ¹é…ã€‚\
            \  \n\n## ä»»åŠ¡è¦æ±‚\n1. ä¸¥æ ¼åŒ¹é…å­—æ®µï¼šç¡®ä¿æå–çš„å†…å®¹ä¸å­—æ®µæ¥æºä¸¥æ ¼å¯¹åº”ï¼Œä¸å¾—è‡ªè¡Œæ¨æµ‹æˆ–è½¬æ¢å­—æ®µå€¼ã€‚\n2. è¡¨æ ¼æ•°æ®åŒ¹é…ï¼šå¯¹äºè¡¨æ ¼æ•°æ®ï¼Œéœ€é€è¡Œè§£æï¼Œå¿…é¡»å¹¶ä¿è¯å­—æ®µæ•°æ®æŒ‰è¡ŒåŒ¹é…ï¼Œé¿å…æ•°æ®é”™ä½ï¼Œé¿å…è™šå‡æ•°æ®ã€‚\n\
            3. è¾“å‡ºæ ¼å¼ï¼šè¯·ä¸¥æ ¼è¿”å›ä¸€ä¸ªåˆæ³•çš„ JSON å¯¹è±¡ï¼Œä¸è¦åŒ…å«ä»»ä½•é¢å¤–çš„ Markdown ä»£ç å—ï¼ˆå¦‚ ```jsonï¼‰æˆ–è§£é‡Šæ€§æ–‡æœ¬ï¼›ä¸”å¿…é¡»ç¬¦åˆ\
            \ Schema ç»“æ„ï¼Œä¸å¾—åŒ…å«å¤šä½™å†…å®¹ã€‚\n4. å­—æ®µç¼ºå¤±å¤„ç†ï¼šå¦‚æœå­—æ®µåœ¨æå–æ–‡æ¡£ä¸­æ‰¾ä¸åˆ°ï¼Œåˆ™å¡«å…¥ nullï¼Œä¸å¾—å¡«å…¥å…¶ä»–é»˜è®¤å€¼ã€‚\n5.\
            \ æ—¶é—´æ ¼å¼è½¬æ¢ï¼šæ‰€æœ‰æ—¶é—´å­—æ®µéœ€è½¬æ¢ä¸ºæ ‡å‡†æ—¥æœŸæ ¼å¼ï¼ˆYYYY-MM-DDï¼‰ã€‚\n6. æ•°å­—æ ¼å¼ï¼šä¿æŒåŸå§‹æ ¼å¼è¾“å‡ºï¼Œä¸å¾—è¿›è¡Œå››èˆäº”å…¥æˆ–å•ä½è½¬æ¢ï¼Œéæ•°å­—æ ¼å¼åˆ™å¡«å…¥\
            \ nullã€‚\n7. å‹¾é€‰æ¡†æ ¼å¼ï¼šå¦‚æœå‹¾é€‰ï¼Œå¡«å…¥å¯¹åº”å‹¾é€‰æ¡†åé¢çš„æ–‡å­—ï¼Œå¦‚æœæ²¡æœ‰åˆ™å¡«å…¥ nullã€‚\n\n## æå–æ–‡æ¡£\n{{#context#}}\n\
            \n## Schema\n{\n  \"name\": \"string\",\n  \"businessManagementCompany\"\
            : \"string\",\n  \"businessManagementCompanyCode\": \"string\",\n  \"\
            businessManagementCompanyContact\": \"string\",\n  \"businessManagementCompanyPhone\"\
            : \"string\",\n  \"contractCustomers\": \"string\",\n  \"contractCustomersCode\"\
            : \"string\",\n  \"contact\": \"string\",\n  \"contactPhone\": \"string\"\
            ,\n  \"startDate\": \"string\",\n  \"endDate\": \"string\",  \n  \"brandCode\"\
            : \"string\", \n  \"chargeMethodName\": \"string\",\n  \"decorationDays\"\
            : \"string\",\n  \"businessTermsInfoDtoList\": [\n    {\n      \"startTimePeriod\"\
            : \"string\",\n      \"endTimePeriod\": \"string\",\n      \"monthUnitPrice\"\
            : \"string\",\n      \"monthUnitPriceNoTax\": \"string\",\n      \"monthTotalPrice\"\
            : \"string\",\n      \"monthTotalPriceNoTax\": \"string\",\n      \"drawRatio\"\
            : \"string\"\n    }\n  ]\n}\n\n\n## å­—æ®µæ¥æº\n| JSON å­—æ®µå                |\
            \ æ•°æ®æ¥æºæè¿° |\n|----------------------------|------------|\n| `name`    \
            \    | **åˆåŒåç§°**ï¼Œå–è‡ªæ–‡æ¡£çš„åˆåŒåç§°|\n| `businessManagementCompany`        | **ç”²æ–¹ï¼ˆå‡ºç§Ÿäººï¼‰**|\n\
            | `businessManagementCompanyCode`        | **ç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç **ï¼Œå–è‡ªâ€œç”²æ–¹ï¼ˆå‡ºç§Ÿäººï¼‰â€åçš„çš„å†…å®¹\
            \ |\n| `businessManagementCompanyContact`        | **ç”²æ–¹è”ç³»äºº**|\n| `businessManagementCompanyPhone`\
            \        | **ç”²æ–¹è”ç³»ç”µè¯**|\n| `contractCustomers` | **ä¹™æ–¹ï¼ˆæ‰¿ç§Ÿäººï¼‰**|\n| `contractCustomersCode`\
            \         | **ç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç /èº«ä»½è¯å·**ï¼šå–è‡ªâ€œä¹™æ–¹ï¼ˆæ‰¿ç§Ÿäººï¼‰â€åçš„çš„å†…å®¹ |\n| `contact` | **ä¹™æ–¹è”ç³»äºº**|\n\
            | `contactPhone` | **ä¹™æ–¹è”ç³»ç”µè¯**|\n| `startDate`           | å–è‡ª\"ç§ŸèµæœŸé™\"ç›®å½•ä¸‹çš„å¼€å§‹æ—¶é—´ï¼Œæ ¼å¼ï¼šYYYY-MM-DD\
            \ |\n| `endDate`          | å–è‡ª\"ç§ŸèµæœŸé™\"ç›®å½•ä¸‹çš„ç»“æŸæ—¶é—´ï¼Œæ ¼å¼ï¼šYYYY-MM-DD |\n| `brandCode`\
            \ | **å“ç‰Œ**ï¼Œå–è‡ªâ€œç§Ÿèµç”¨é€”â€ç›®å½•ä¸‹çš„ç»è¥å“ç‰Œ |\n| `decorationDays` | **è£…ä¿®æœŸå¤©æ•°**ï¼Œå–è‡ªâ€œè£…ä¿®æœŸâ€ç›®å½•ä¸‹çš„å¼€ä¸šè£…ä¿®æœŸå¤©æ•°\
            \ |\n| `chargeMethodName` | **å‹¾é€‰æ¡†**ï¼Œå–è‡ªâ€œç§ŸèµæœŸé™å†…ï¼Œè¯¥å•†é“ºç§Ÿé‡‘è®¡ç®—æ–¹å¼ä¸ºâ€åçš„å‹¾é€‰æ¡†å¯¹åº”å‹¾é€‰çš„å†…å®¹ |\n\
            | `businessTermsInfoDtoList` | **å…·ä½“ç§Ÿé‡‘æ ‡å‡†**ï¼Œè¡¨æ ¼å†…å®¹æŒ‰è¡Œæå– |\n| `startTimePeriod`\
            \         | **è¡¨æ ¼åˆ—**ï¼š\"ç§ŸèµæœŸé™çš„å¼€å§‹æ—¶é—´\"ï¼Œæ ¼å¼ï¼šYYYY-MM-DD |\n| `endTimePeriod` \
            \          | **è¡¨æ ¼åˆ—**ï¼š\"ç§ŸèµæœŸé™çš„ç»“æŸæ—¶é—´\"ï¼Œæ ¼å¼ï¼šYYYY-MM-DD |\n| `monthUnitPrice`\
            \          | **è¡¨æ ¼åˆ—**ï¼š\"åŸºæœ¬ç§Ÿé‡‘å•ä»·ï¼ˆå…ƒ/æœˆ/ã¡ï¼‰å«ç¨\"ï¼Œæ ¼å¼ï¼šæ•°å­— |\n| `monthUnitPriceNoTax`\
            \     | **è¡¨æ ¼åˆ—**ï¼š\"åŸºæœ¬ç§Ÿé‡‘å•ä»·ï¼ˆå…ƒ/æœˆ/ã¡ï¼‰ä¸å«ç¨\"ï¼Œæ ¼å¼ï¼šæ•°å­— |\n| `monthTotalPrice`    \
            \     | **è¡¨æ ¼åˆ—**ï¼š\"åŸºæœ¬ç§Ÿé‡‘é‡‘é¢\"ï¼Œæ ¼å¼ï¼šæ•°å­— |\n| `monthTotalPriceNoTax`    | **è¡¨æ ¼åˆ—**ï¼š\"\
            åŸºæœ¬ç§Ÿé‡‘é‡‘é¢åŒ…å«çš„å¢å€¼ç¨ç¨é¢\"ï¼Œæ ¼å¼ï¼šæ•°å­— |\n| `drawRatio`               | **è¡¨æ ¼åˆ—**ï¼š\"æŠ½æˆæ¯”ä¾‹\"\
            ï¼Œæ ¼å¼ï¼šæ•°å­— |"
        - id: 9c379fa1-4da3-42b7-9ff4-ad93be47a582
          role: user
          text: '{{#1727235420145.text#}}'
        selected: false
        title: 'DSæ–‡æ¡£è½¬æ¢ '
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '17435722334800'
      position:
        x: 1403.569014946623
        y: 466.34766244937947
      positionAbsolute:
        x: 1403.569014946623
        y: 466.34766244937947
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        output_type: string
        selected: false
        title: å˜é‡èšåˆå™¨
        type: variable-aggregator
        variables:
        - - '1743663970298'
          - text
        - - '1743127987774'
          - result
      height: 130
      id: '1743574627881'
      position:
        x: 2177.1650800255056
        y: 317.7268146047289
      positionAbsolute:
        x: 2177.1650800255056
        y: 317.7268146047289
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import re\nfrom datetime import datetime\nimport time\n\ndef main(json_str):\n\
          \    # åŒ¹é… YYYY-MM-DD æ ¼å¼çš„æ—¥æœŸ\n    pattern = r'(?<!\\\\)\"(\\d{4}-\\d{2}-\\\
          d{2})\"(?!\\\\)'\n\n    # æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„æ—¥æœŸ \n    result = re.sub(pattern, convert_to_timestamp,\
          \ json_str)\n    return {'result': result }\n\ndef convert_to_timestamp(match):\n\
          \    date_str = match.group(1)  # æå–åŒ¹é…çš„æ—¥æœŸå­—ç¬¦ä¸²\n    dt = datetime.strptime(date_str,\
          \ \"%Y-%m-%d\")  # è½¬æ¢ä¸º datetime å¯¹è±¡\n    timestamp = int(time.mktime(dt.timetuple()))\
          \ * 1000  # è½¬æ¢ä¸º13ä½æ—¶é—´æˆ³\n    return str(timestamp)  # è¿”å›æ•°å­—æ ¼å¼ï¼ˆä¸åŠ å¼•å·ï¼‰\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: æ—¶é—´æˆ³è½¬åŒ–
        type: code
        variables:
        - value_selector:
          - '1743142066025'
          - result
          variable: json_str
      height: 54
      id: '1743660332041'
      position:
        x: 2834.9772399481635
        y: 317.7268146047289
      positionAbsolute:
        x: 2834.9772399481635
        y: 317.7268146047289
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '1742975365645'
          - text
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: qwen-turbo
          provider: tongyi
        prompt_template:
        - id: f82ead0a-b10d-4105-9ec7-28e91b6489f4
          role: system
          text: "## è§’è‰²\nä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„JSONæ•°æ®å¤„ç†åŠ©æ‰‹ï¼Œä½ çš„ä»»åŠ¡æ˜¯ä»ç»™å®šçš„æå–æ–‡æ¡£ä¸­è¡¥å…¨JSONæ•°æ®æ ¼å¼ï¼Œå¹¶ä¸¥æ ¼æŒ‰ç…§æŒ‡å®šçš„ Schema\
            \ æ ¼å¼è¾“å‡ºå­—ç¬¦ä¸²ã€‚  \n\n## ä»»åŠ¡è¦æ±‚\nè¡¥å…¨å¯¹åº”æ•°æ®çš„jsonæ ¼å¼ï¼Œå°†å…¶æ”¹æˆåˆæ³•çš„jsonè¾“å‡º\n\n## æå–æ–‡æ¡£\n{{#context#}}\n\
            \n## Schema\n{\n  \"name\": \"string\",\n  \"businessManagementCompany\"\
            : \"string\",\n  \"businessManagementCompanyCode\": \"string\",\n  \"\
            businessManagementCompanyContact\": \"string\",\n  \"businessManagementCompanyPhone\"\
            : \"string\",\n  \"contractCustomers\": \"string\",\n  \"contractCustomersCode\"\
            : \"string\",\n  \"contact\": \"string\",\n  \"contactPhone\": \"string\"\
            ,\n  \"startDate\": \"string\",\n  \"endDate\": \"string\",  \n  \"brandCode\"\
            : \"string\", \n  \"chargeMethodName\": \"string\",\n  \"decorationDays\"\
            : \"string\",\n  \"businessTermsInfoDtoList\": [\n    {\n      \"startTimePeriod\"\
            : \"string\",\n      \"endTimePeriod\": \"string\",\n      \"monthUnitPrice\"\
            : \"string\",\n      \"monthUnitPriceNoTax\": \"string\",\n      \"monthTotalPrice\"\
            : \"string\",\n      \"monthTotalPriceNoTax\": \"string\",\n      \"drawRatio\"\
            : \"string\"\n    }\n  ]\n}"
        - id: 09b05618-ee78-4642-88bb-fb7403b34659
          role: user
          text: '{{#1742975365645.text#}}'
        selected: false
        title: TY JSONè¡¥å…¨
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1743663970298'
      position:
        x: 1717.559353218749
        y: 317.7268146047289
      positionAbsolute:
        x: 1717.559353218749
        y: 317.7268146047289
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: -412.00488603286703
      y: -106.29030020384141
      zoom: 0.8754023919388939
